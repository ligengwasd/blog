### 12.3.2 内存间交互操作

**lock**：作用于主内存变量。表示该标量被一条线程独占。

**unlock**：作用于主内存变量。

**read**：作用于主内存变量。把变量值从主内存传递到工作内存。

**load**：作用于工作内存变量。把read的值放入工作内存的变量副本中。(**read和load必须一起**)

**use**：作用于工作内存变量。把工作内存变量的值传递给执行引擎。

**assign**：作用于工作内存变量。执行引擎把值赋给工作内存变量。

**store**：作用于工作内存变量。和load相反，把变量值从工作内存传递到主内存。

**write**：作用于主内存变量。把store操作的值放入主内存变量。(**store和write必须一起**)

### 12.3.2 volatile变量的特殊规则 

**可见性**：

**禁止指令重排序**：

规则：

- load和use必须一起

- assign和store必须

- 禁止重排序：

  A：线程T，变量V，的use|assign操作

  F：和A关联的，load|store操作

  P：和F关联的，read|write操作

  

  B：线程T，变量W，的use|assign操作

  G：和B关联的，load|store操作

  Q：和G关联的，read|write操作

  

  **那么，A先于B，P一定先于Q**

   

   

  

  

  

 